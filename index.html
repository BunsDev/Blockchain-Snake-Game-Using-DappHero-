<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Blockchain Snake Game</title>
    <link rel="stylesheet" href="./assets/styles/main.css" />
    <script
      src="https://code.jquery.com/jquery-3.5.0.min.js"
      integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
      crossorigin="anonymous"
    ></script>
    <script src="assets/js/phaser.min.js"></script>
    <script src="assets/js/menu.js"></script>
    <script src="assets/js/game.js"></script>
    <script src="assets/js/game_over.js"></script>
    <script src="assets/js/main.js"></script>
  </head>
  <body>
    <h1 align="center">-- Blockchain Snake Game --</h1>
    <br /><br />
    <button
      data-dh-feature="network"
      data-dh-property-enable="true"
      class="center"
    >
      Login Via Metamask
    </button>
    <br /><br />
    <h2 style="color: #44b9fc;">
      Average Score To Beat:
      <span
        style="color: white;"
        data-dh-feature="customContract"
        data-dh-property-contract-name="snakegame"
        data-dh-property-method-name="avgScore"
        data-dh-property-method-id="000"
        data-dh-property-outputs="true"
        data-dh-property-auto-invoke="true"
      >
      </span>
    </h2>
    <h1 style="color: #44b9fc;">
      CURRENT GAME POOL:
      <span
        style="color: white;"
        data-dh-feature="customContract"
        data-dh-property-contract-name="snakegame"
        data-dh-property-method-name="prizePool"
        data-dh-property-method-id="001"
        data-dh-property-outputs="true"
        data-dh-property-auto-invoke="true"
        data-dh-modifier-contract-units="wei"
        data-dh-modifier-display-units="ether"
      >
      </span>
      ETH
      <span
        style="display: none;"
        data-dh-feature="customContract"
        data-dh-property-contract-name="snakegame"
        data-dh-property-method-name="newChallenge"
        data-dh-property-method-id="002"
        data-dh-property-eth-value="0.001"
      >
      </span>
      <button
        style="margin-left: 12em; border-radius: 0.5em; cursor: pointer;"
        data-dh-property-method-id="002"
        data-dh-property-invoke="true"
      >
        Deposit .001 ETH and PLAY!
      </button>

      <span
        style="display: none;"
        data-dh-feature="customContract"
        data-dh-property-contract-name="snakegame"
        data-dh-property-method-name="userChallenge"
        data-dh-property-method-id="003"
        data-dh-property-auto-invoke="true"
      ></span>
      <input
        style="display: none;"
        data-dh-property-method-id="003"
        data-dh-property-input-name="$true"
        value="$CURRENT_USER"
      />
      <button
        id="get-status-btn"
        style="display: none"
        data-dh-property-method-id="003"
        data-dh-property-invoke="true"
      >
        Get Status
      </button>
      <div
        id="status"
        style="display: none;"
        data-dh-property-method-id="003"
        data-dh-property-output-name="status"
      >STATUS</div>
      <span
        style="display: none;"
        data-dh-feature="customContract"
        data-dh-property-contract-name="snakegame"
        data-dh-property-method-name="claim"
        data-dh-property-method-id="004"
      >
      </span>
      <input
        id="claim-input"
        style="display: none;"
        data-dh-property-method-id="004"
        data-dh-property-input-name="_score"
      />
      <button
        id="claim-button"
        style="
          display: none;
          margin-left: 12em;
          border-radius: 0.5em;
          cursor: pointer;
        "
        data-dh-property-method-id="004"
        data-dh-property-invoke="true"
      >
        Claim Prize
      </button>
    </h1>

    <script
      src="https://package.dapphero.io/main.js"
      id="dh-apiKey"
      data-api="1588249591666x844795094684139500"
    ></script>
    <script>
      function getStatus() {
        console.log("Status:", $("#status").text());
        return $("#status").text();
      }

      function claimPrize(_score) {
        $("#claim-input").val(_score)
        $("#claim-button").show();
      }
    </script>
  </body>
</html>
